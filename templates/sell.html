<!DOCTYPE html>
<html lang="en">
 
<head>
    <title>Web Store</title>
          <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
 
     <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link href="https://v4-alpha.getbootstrap.com/examples/narrow-jumbotron/narrow-jumbotron.css" rel="stylesheet"> 
    <link rel="stylesheet" type="text/css" href="../static/css/sell.css">
    <script type="text/javascript" src="../static/js/jQuery_v3.3.1.js"></script>
    <script src="../static/js/jquery.ui.widget.js"></script>
 
    <script type="text/javascript" src="../static/js/jquery.fileupload.js"></script>
     
    <script type="text/javascript" src="../static/js/jquery.fileupload-process.js"></script>
     
    <script type="text/javascript" src="../static/js/jquery.fileupload-ui.js"></script>

    <script>
        $(function(){
                $('#fileupload').fileupload({
                    url: 'upload',
                    dataType: 'json',
                    add: function (e, data) {
                        data.submit();
                    },
                    success:function(response,status) {
                    console.log(response.filename);
                    var filePath = 'static/Uploads/' + response.filename;
                    $('#imgUpload').attr('src',filePath);
                    $('#filePath').val(filePath);
                        console.log('success');
                    },
                    error:function(error){
                        console.log(error);
                    }
                });
        })
    </script>

    <style>
    .btn-file {
    position: relative;
    overflow: hidden;
}
.btn-file input[type=file] {
    position: absolute;
    top: 0;
    right: 0;
    min-width: 100%;
    min-height: 100%;
    font-size: 100px;
    text-align: right;
    filter: alpha(opacity=0);
    opacity: 0;
    outline: none;
    background: white;
    cursor: inherit;
    display: block;
}
    </style>
</head>
 
<body>
     <div class="container">
        <div class="header">
            <h3 class="text-muted">Web Store</h3>
            <nav>
                <ul class="nav nav-pills justify-content-end">
                    <li role="presentation" class="active"><a class="nav-link active" href="#">Sell Item</a>
                    </li>
                    <li role="presentation"><a class="nav-link" href="/userHome">Dashboard</a>
                    </li>
                    <li role="presentation"><a class="nav-link" href="/logout">Logout</a>
                    </li>
                </ul>
            </nav>
            
        </div>
        <section>
            <form class="form-horizontal" method="post" action="/addItem">
                <fieldset>
 
                    <!-- Form Name -->
                    <legend>Create Your listing</legend>
 
                    <!-- Text input-->
                    <div class="form-group">
                        <label class="col-md-4 control-label" for="txtTitle">Item Title</label>
                        <div class="col-md-4">
                            <input id="txtTitle" name="inputTitle" type="text" placeholder="placeholder" class="form-control input-md">
                        </div>
                    </div>
                    
                    <!-- Image upload -->
                    <div class="form-group">
                      <label for="txtPost">Photos</label>
                                         
                        <div class="input-group">
                            <span class="input-group-btn">
                                    <span class="btn btn-primary btn-file">
                                        Browse&hellip; <input type="file" id="fileupload" name="file" multiple>
                                    </span>
                            </span>
                                <div class="pull-right">
                                        <img  id="imgUpload" style="width: 140px; height: 140px;" class="img-thumbnail"><input type="hidden" name="filePath" id="filePath"></input>
                                </div>
                        </div>
                      
                    </div>

                    <!-- Textarea -->
                    <div class="form-group">
                        <label class="col-md-4 control-label" for="txtPost">Post</label>
                        <div class="col-md-4">
                            <textarea class="form-control" id="txtPost" name="inputDescription"></textarea>
                        </div>
                    </div>
 
                    <!-- Button -->
                    <div class="form-group">
                        <label class="col-md-4 control-label" for="singlebutton"></label>
                        <div class="col-md-4">
                            <input id="singlebutton" name="singlebutton" class="btn btn-primary" type="submit" value="Publish" />
                        </div>
                    </div>
 
                </fieldset>
            </form>
 
        </section>
        <footer class="footer">
            <p>&copy; Web Store 2015</p>
        </footer>
 
    </div>
    
</body>
 
</html>